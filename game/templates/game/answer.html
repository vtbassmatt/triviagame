{% extends 'base.html' %}
{% load static %}
{% block title %}TrÂ¿via - {{ game.name }}{% endblock %}
{% block heading %}{{ game.name }}{% endblock %}
{% block contents %}
<div class="row justify-content-center">
  <p>Team: <em>{{ team.name }}</em>.</p>
  <p><span class="badge bg-success">Note!</span> Answers are saved as you type, no need to submit anything.</p>
  <p>When you're done, you can go <a href="{% url 'play' %}">back to the list of pages</a>.</p>
  <h2>{{ page.order }}. {{ page.title }}</h2>
  {% if page.description %}<p class="markdown-needed">{{ page.description|linebreaksbr }}</p>{% endif %}
</div>

<div class="row mb-3">
  {% for question in page.question_set.all %}
  <div class="col-12" id="question-{{ question.id }}"
        hx-get="{% url 'question_hx' question.id %}"
        hx-trigger="load"
        hx-ext="morph"
        hx-swap="morph:outerHTML">
    <div class="card mb-3">
      <div class="card-header">Question {{ question.order }}</div>
      <div class="card-body">
        {% if question.possible_points > 1 %}<p class="card-text fst-italic">Worth up to <span class="text-primary fw-bold">{{ question.possible_points }}</span> points.</p>{% endif %}
        <p class="card-text markdown-needed">{{ question.question|linebreaksbr }}</p>
        <p class="card-text placeholder-glow">
          <span class="placeholder col-2 placeholder-lg"></span>
          <span class="placeholder col-6 placeholder-lg"></span>
        </p>
      </div>
    </div>
  </div>
  {% empty %}
  <p>There aren't any questions here.</p>
  {% endfor %}
  
  <p><a href="{% url 'play' %}">Back to the list of pages</a>.</p>
</div>
{% endblock %}