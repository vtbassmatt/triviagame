{% extends 'host_base.html' %}
{% block heading %}Hosting trivia{% endblock %}
{% block contents %}
<div class="row justify-content-center">
  <div class="col-12">
    {% if hosting %}
      <p>
        You're hosting <strong>{{ hosting.name }}</strong>.
        <a href="{% url 'pages' %}">Manage or preview it here.</a>
      </p>
      <p hx-post="{% url 'toggle_game' %}">
        {% include 'editor/_toggle_game.html' %}
      </p>
      <p>If a player is having browser trouble, give them this link: <code>{{ uncurse_url }}</code></p>
      <hr>
    {% endif %}
    <h2>Games</h2>
    <p><a href="{% url 'new_game' %}" class="btn btn-outline-secondary">Create a new game</a></p>
    {# TODO: need to handle state change when the game is opened/closed #}
    {% for game in editable %}
      <p><a href="{% url 'host_join' game.id %}">{{ game }}</a>{% if game.open %} (<span class="text-secondary">can't edit while open</span>){% else %} (<a href="{% url 'edit_game' game.id %}">edit</a>){% endif %}</p>
    {% endfor %}
    {% for game in hostable %}
      <p><a href="{% url 'host_join' game.id %}">{{ game }}</a></p>
    {% endfor %}
  </div>
</div>
{% endblock %}